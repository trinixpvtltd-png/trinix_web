{"ast":null,"code":"// API service for communicating with the backend\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\nclass ApiService {\n  constructor() {\n    this.baseURL = API_BASE_URL;\n  }\n\n  // Helper method to get auth headers\n  getAuthHeaders() {\n    const token = localStorage.getItem('token');\n    return {\n      'Content-Type': 'application/json',\n      ...(token && {\n        Authorization: `Bearer ${token}`\n      })\n    };\n  }\n\n  // Generic request method\n  async request(endpoint, options = {}) {\n    const url = `${this.baseURL}${endpoint}`;\n    const config = {\n      headers: this.getAuthHeaders(),\n      ...options\n    };\n    try {\n      const response = await fetch(url, config);\n      const data = await response.json();\n      if (!response.ok) {\n        throw new Error(data.message || `HTTP error! status: ${response.status}`);\n      }\n      return data;\n    } catch (error) {\n      console.error('API Request failed:', error);\n      throw error;\n    }\n  }\n\n  // Authentication methods\n  async register(userData) {\n    return this.request('/auth/register', {\n      method: 'POST',\n      body: JSON.stringify({\n        first_name: userData.firstName,\n        last_name: userData.lastName,\n        email: userData.email,\n        password: userData.password,\n        confirm_password: userData.confirmPassword,\n        phone: userData.phone || '',\n        company: userData.company || '',\n        role: 'user'\n      })\n    });\n  }\n  async login(credentials) {\n    return this.request('/auth/login', {\n      method: 'POST',\n      body: JSON.stringify(credentials)\n    });\n  }\n\n  // User methods\n  async getCurrentUser() {\n    return this.request('/auth/me');\n  }\n\n  // Project methods\n  async getProjects() {\n    return this.request('/projects');\n  }\n  async createProject(projectData) {\n    return this.request('/projects', {\n      method: 'POST',\n      body: JSON.stringify(projectData)\n    });\n  }\n  async updateProject(id, projectData) {\n    return this.request(`/projects/${id}`, {\n      method: 'PUT',\n      body: JSON.stringify(projectData)\n    });\n  }\n  async deleteProject(id) {\n    return this.request(`/projects/${id}`, {\n      method: 'DELETE'\n    });\n  }\n\n  // Research methods\n  async getResearches() {\n    return this.request('/researches');\n  }\n  async getResearch(id) {\n    return this.request(`/researches/${id}`);\n  }\n  async createResearch(researchData) {\n    return this.request('/researches', {\n      method: 'POST',\n      body: JSON.stringify(researchData)\n    });\n  }\n  async updateResearch(id, researchData) {\n    return this.request(`/researches/${id}`, {\n      method: 'PUT',\n      body: JSON.stringify(researchData)\n    });\n  }\n  async deleteResearch(id) {\n    return this.request(`/researches/${id}`, {\n      method: 'DELETE'\n    });\n  }\n  async downloadResearchPDF(id) {\n    const url = `${this.baseURL}/researches/${id}/download`;\n    try {\n      const response = await fetch(url, {\n        headers: this.getAuthHeaders()\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      // Get the filename from the Content-Disposition header\n      const contentDisposition = response.headers.get('Content-Disposition');\n      let filename = 'research_paper.pdf';\n      if (contentDisposition) {\n        const filenameMatch = contentDisposition.match(/filename=\"(.+)\"/);\n        if (filenameMatch) {\n          filename = filenameMatch[1];\n        }\n      }\n\n      // Create blob and download\n      const blob = await response.blob();\n      const downloadUrl = window.URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = downloadUrl;\n      link.download = filename;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      window.URL.revokeObjectURL(downloadUrl);\n      return {\n        success: true,\n        message: 'Download started'\n      };\n    } catch (error) {\n      console.error('Download error:', error);\n      throw error;\n    }\n  }\n\n  // Job methods\n  async getJobs() {\n    return this.request('/jobs');\n  }\n  async createJob(jobData) {\n    return this.request('/jobs', {\n      method: 'POST',\n      body: JSON.stringify(jobData)\n    });\n  }\n  async updateJob(id, jobData) {\n    return this.request(`/jobs/${id}`, {\n      method: 'PUT',\n      body: JSON.stringify(jobData)\n    });\n  }\n  async deleteJob(id) {\n    return this.request(`/jobs/${id}`, {\n      method: 'DELETE'\n    });\n  }\n\n  // Dashboard methods\n  async getDashboardStats() {\n    return this.request('/dashboard/stats');\n  }\n  async getUserIdeas() {\n    return this.request('/dashboard/ideas');\n  }\n  async submitIdea(ideaData) {\n    return this.request('/dashboard/ideas', {\n      method: 'POST',\n      body: JSON.stringify(ideaData)\n    });\n  }\n\n  // Chat methods\n  async sendChatMessage(message, sessionId) {\n    return this.request('/chat', {\n      method: 'POST',\n      body: JSON.stringify({\n        question: message,\n        sessionId: sessionId || `session-${Date.now()}`\n      })\n    });\n  }\n\n  // Health check\n  async healthCheck() {\n    return this.request('/health');\n  }\n}\n\n// Create and export a singleton instance\nconst apiService = new ApiService();\nexport default apiService;","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_URL","ApiService","constructor","baseURL","getAuthHeaders","token","localStorage","getItem","Authorization","request","endpoint","options","url","config","headers","response","fetch","data","json","ok","Error","message","status","error","console","register","userData","method","body","JSON","stringify","first_name","firstName","last_name","lastName","email","password","confirm_password","confirmPassword","phone","company","role","login","credentials","getCurrentUser","getProjects","createProject","projectData","updateProject","id","deleteProject","getResearches","getResearch","createResearch","researchData","updateResearch","deleteResearch","downloadResearchPDF","contentDisposition","get","filename","filenameMatch","match","blob","downloadUrl","window","URL","createObjectURL","link","document","createElement","href","download","appendChild","click","removeChild","revokeObjectURL","success","getJobs","createJob","jobData","updateJob","deleteJob","getDashboardStats","getUserIdeas","submitIdea","ideaData","sendChatMessage","sessionId","question","Date","now","healthCheck","apiService"],"sources":["C:/Users/sahod/OneDrive/Desktop/Trinix website/trinix_web/frontend/src/services/api.js"],"sourcesContent":["// API service for communicating with the backend\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n\nclass ApiService {\n  constructor() {\n    this.baseURL = API_BASE_URL;\n  }\n\n  // Helper method to get auth headers\n  getAuthHeaders() {\n    const token = localStorage.getItem('token');\n    return {\n      'Content-Type': 'application/json',\n      ...(token && { Authorization: `Bearer ${token}` })\n    };\n  }\n\n  // Generic request method\n  async request(endpoint, options = {}) {\n    const url = `${this.baseURL}${endpoint}`;\n    const config = {\n      headers: this.getAuthHeaders(),\n      ...options\n    };\n\n    try {\n      const response = await fetch(url, config);\n      const data = await response.json();\n      \n      if (!response.ok) {\n        throw new Error(data.message || `HTTP error! status: ${response.status}`);\n      }\n      \n      return data;\n    } catch (error) {\n      console.error('API Request failed:', error);\n      throw error;\n    }\n  }\n\n  // Authentication methods\n  async register(userData) {\n    return this.request('/auth/register', {\n      method: 'POST',\n      body: JSON.stringify({\n        first_name: userData.firstName,\n        last_name: userData.lastName,\n        email: userData.email,\n        password: userData.password,\n        confirm_password: userData.confirmPassword,\n        phone: userData.phone || '',\n        company: userData.company || '',\n        role: 'user'\n      })\n    });\n  }\n\n  async login(credentials) {\n    return this.request('/auth/login', {\n      method: 'POST',\n      body: JSON.stringify(credentials)\n    });\n  }\n\n  // User methods\n  async getCurrentUser() {\n    return this.request('/auth/me');\n  }\n\n  // Project methods\n  async getProjects() {\n    return this.request('/projects');\n  }\n\n  async createProject(projectData) {\n    return this.request('/projects', {\n      method: 'POST',\n      body: JSON.stringify(projectData)\n    });\n  }\n\n  async updateProject(id, projectData) {\n    return this.request(`/projects/${id}`, {\n      method: 'PUT',\n      body: JSON.stringify(projectData)\n    });\n  }\n\n  async deleteProject(id) {\n    return this.request(`/projects/${id}`, {\n      method: 'DELETE'\n    });\n  }\n\n  // Research methods\n  async getResearches() {\n    return this.request('/researches');\n  }\n\n  async getResearch(id) {\n    return this.request(`/researches/${id}`);\n  }\n\n  async createResearch(researchData) {\n    return this.request('/researches', {\n      method: 'POST',\n      body: JSON.stringify(researchData)\n    });\n  }\n\n  async updateResearch(id, researchData) {\n    return this.request(`/researches/${id}`, {\n      method: 'PUT',\n      body: JSON.stringify(researchData)\n    });\n  }\n\n  async deleteResearch(id) {\n    return this.request(`/researches/${id}`, {\n      method: 'DELETE'\n    });\n  }\n\n  async downloadResearchPDF(id) {\n    const url = `${this.baseURL}/researches/${id}/download`;\n    \n    try {\n      const response = await fetch(url, {\n        headers: this.getAuthHeaders()\n      });\n      \n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      \n      // Get the filename from the Content-Disposition header\n      const contentDisposition = response.headers.get('Content-Disposition');\n      let filename = 'research_paper.pdf';\n      \n      if (contentDisposition) {\n        const filenameMatch = contentDisposition.match(/filename=\"(.+)\"/);\n        if (filenameMatch) {\n          filename = filenameMatch[1];\n        }\n      }\n      \n      // Create blob and download\n      const blob = await response.blob();\n      const downloadUrl = window.URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = downloadUrl;\n      link.download = filename;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      window.URL.revokeObjectURL(downloadUrl);\n      \n      return { success: true, message: 'Download started' };\n    } catch (error) {\n      console.error('Download error:', error);\n      throw error;\n    }\n  }\n\n  // Job methods\n  async getJobs() {\n    return this.request('/jobs');\n  }\n\n  async createJob(jobData) {\n    return this.request('/jobs', {\n      method: 'POST',\n      body: JSON.stringify(jobData)\n    });\n  }\n\n  async updateJob(id, jobData) {\n    return this.request(`/jobs/${id}`, {\n      method: 'PUT',\n      body: JSON.stringify(jobData)\n    });\n  }\n\n  async deleteJob(id) {\n    return this.request(`/jobs/${id}`, {\n      method: 'DELETE'\n    });\n  }\n\n  // Dashboard methods\n  async getDashboardStats() {\n    return this.request('/dashboard/stats');\n  }\n\n  async getUserIdeas() {\n    return this.request('/dashboard/ideas');\n  }\n\n  async submitIdea(ideaData) {\n    return this.request('/dashboard/ideas', {\n      method: 'POST',\n      body: JSON.stringify(ideaData)\n    });\n  }\n\n  // Chat methods\n  async sendChatMessage(message, sessionId) {\n    return this.request('/chat', {\n      method: 'POST',\n      body: JSON.stringify({\n        question: message,\n        sessionId: sessionId || `session-${Date.now()}`\n      })\n    });\n  }\n\n  // Health check\n  async healthCheck() {\n    return this.request('/health');\n  }\n}\n\n// Create and export a singleton instance\nconst apiService = new ApiService();\nexport default apiService;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}