{"ast":null,"code":"// API service for communicating with the backend\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\nclass ApiService {\n  constructor() {\n    this.baseURL = API_BASE_URL;\n  }\n\n  // Helper method to get auth headers\n  getAuthHeaders() {\n    const token = localStorage.getItem('token');\n    return {\n      'Content-Type': 'application/json',\n      ...(token && {\n        Authorization: `Bearer ${token}`\n      })\n    };\n  }\n\n  // Generic request method\n  async request(endpoint, options = {}) {\n    const url = `${this.baseURL}${endpoint}`;\n    const config = {\n      headers: {\n        Accept: 'application/json',\n        ...this.getAuthHeaders()\n      },\n      ...options\n    };\n    try {\n      const response = await fetch(url, config);\n      const text = await response.text();\n\n      // Try to parse JSON, otherwise expose raw text (e.g., HTML error page)\n      let data;\n      try {\n        data = text ? JSON.parse(text) : {};\n      } catch (e) {\n        data = {\n          raw: text\n        };\n      }\n      if (!response.ok) {\n        const message = data && (data.message || data.error) || response.statusText || 'Request failed';\n        const err = new Error(message);\n        err.status = response.status;\n        err.data = data;\n        throw err;\n      }\n      return data;\n    } catch (error) {\n      console.error('API Request failed:', error);\n      throw error;\n    }\n  }\n\n  // Authentication methods\n  async register(userData) {\n    return this.request('/users/signup', {\n      method: 'POST',\n      body: JSON.stringify({\n        first_name: userData.firstName,\n        last_name: userData.lastName,\n        email: userData.email,\n        password: userData.password,\n        confirm_password: userData.confirmPassword,\n        phone: userData.phone || '',\n        company: userData.company || '',\n        role: 'user'\n      })\n    });\n  }\n  async login(credentials) {\n    return this.request('/users/login', {\n      method: 'POST',\n      body: JSON.stringify(credentials)\n    });\n  }\n  async logout() {\n    return this.request('/users/logout', {\n      method: 'POST'\n    });\n  }\n\n  // User methods\n  async getCurrentUser() {\n    // Prefer consolidated dashboard endpoint for user profile\n    return this.request('/users/dashboard');\n  }\n\n  // Project methods\n  async getProjects() {\n    return this.request('/projects');\n  }\n  async createProject(projectData) {\n    return this.request('/projects', {\n      method: 'POST',\n      body: JSON.stringify(projectData)\n    });\n  }\n  async updateProject(id, projectData) {\n    return this.request(`/projects/${id}`, {\n      method: 'PUT',\n      body: JSON.stringify(projectData)\n    });\n  }\n  async deleteProject(id) {\n    return this.request(`/projects/${id}`, {\n      method: 'DELETE'\n    });\n  }\n\n  // Research methods\n  async getResearches() {\n    return this.request('/researches');\n  }\n  async createResearch(researchData) {\n    return this.request('/researches', {\n      method: 'POST',\n      body: JSON.stringify(researchData)\n    });\n  }\n  async updateResearch(id, researchData) {\n    return this.request(`/researches/${id}`, {\n      method: 'PUT',\n      body: JSON.stringify(researchData)\n    });\n  }\n  async deleteResearch(id) {\n    return this.request(`/researches/${id}`, {\n      method: 'DELETE'\n    });\n  }\n\n  // Job methods\n  async getJobs() {\n    return this.request('/jobs');\n  }\n  async createJob(jobData) {\n    return this.request('/jobs', {\n      method: 'POST',\n      body: JSON.stringify(jobData)\n    });\n  }\n  async updateJob(id, jobData) {\n    return this.request(`/jobs/${id}`, {\n      method: 'PUT',\n      body: JSON.stringify(jobData)\n    });\n  }\n  async deleteJob(id) {\n    return this.request(`/jobs/${id}`, {\n      method: 'DELETE'\n    });\n  }\n\n  // Dashboard methods\n  async getDashboardStats() {\n    // Prefer users dashboard summary\n    return this.request('/users/dashboard');\n  }\n  async getDashboardUser() {\n    return this.request('/users/dashboard');\n  }\n  async getUserIdeas() {\n    return this.request('/users/ideas');\n  }\n  async submitIdea(ideaData) {\n    return this.request('/users/ideas', {\n      method: 'POST',\n      body: JSON.stringify(ideaData)\n    });\n  }\n\n  // Users scoped ideas\n  async getMyIdeas() {\n    return this.request('/users/ideas/mine');\n  }\n\n  // Chat methods\n  async sendChatMessage(message, sessionId) {\n    return this.request('/chat', {\n      method: 'POST',\n      body: JSON.stringify({\n        question: message,\n        sessionId: sessionId || `session-${Date.now()}`\n      })\n    });\n  }\n\n  // Health check\n  async healthCheck() {\n    return this.request('/health');\n  }\n}\n\n// Create and export a singleton instance\nconst apiService = new ApiService();\nexport default apiService;","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_URL","ApiService","constructor","baseURL","getAuthHeaders","token","localStorage","getItem","Authorization","request","endpoint","options","url","config","headers","Accept","response","fetch","text","data","JSON","parse","e","raw","ok","message","error","statusText","err","Error","status","console","register","userData","method","body","stringify","first_name","firstName","last_name","lastName","email","password","confirm_password","confirmPassword","phone","company","role","login","credentials","logout","getCurrentUser","getProjects","createProject","projectData","updateProject","id","deleteProject","getResearches","createResearch","researchData","updateResearch","deleteResearch","getJobs","createJob","jobData","updateJob","deleteJob","getDashboardStats","getDashboardUser","getUserIdeas","submitIdea","ideaData","getMyIdeas","sendChatMessage","sessionId","question","Date","now","healthCheck","apiService"],"sources":["C:/Users/User/Desktop/New folder/trinix_web/frontend/src/services/api.js"],"sourcesContent":["// API service for communicating with the backend\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\nclass ApiService {\r\n  constructor() {\r\n    this.baseURL = API_BASE_URL;\r\n  }\r\n\r\n  // Helper method to get auth headers\r\n  getAuthHeaders() {\r\n    const token = localStorage.getItem('token');\r\n    return {\r\n      'Content-Type': 'application/json',\r\n      ...(token && { Authorization: `Bearer ${token}` })\r\n    };\r\n  }\r\n\r\n  // Generic request method\r\n  async request(endpoint, options = {}) {\r\n    const url = `${this.baseURL}${endpoint}`;\r\n    const config = {\r\n      headers: {\r\n        Accept: 'application/json',\r\n        ...this.getAuthHeaders()\r\n      },\r\n      ...options\r\n    };\r\n\r\n    try {\r\n      const response = await fetch(url, config);\r\n      const text = await response.text();\r\n\r\n      // Try to parse JSON, otherwise expose raw text (e.g., HTML error page)\r\n      let data;\r\n      try {\r\n        data = text ? JSON.parse(text) : {};\r\n      } catch (e) {\r\n        data = { raw: text };\r\n      }\r\n\r\n      if (!response.ok) {\r\n        const message =\r\n          (data && (data.message || data.error)) ||\r\n          response.statusText ||\r\n          'Request failed';\r\n        const err = new Error(message);\r\n        err.status = response.status;\r\n        err.data = data;\r\n        throw err;\r\n      }\r\n\r\n      return data;\r\n    } catch (error) {\r\n      console.error('API Request failed:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Authentication methods\r\n  async register(userData) {\r\n    return this.request('/users/signup', {\r\n      method: 'POST',\r\n      body: JSON.stringify({\r\n        first_name: userData.firstName,\r\n        last_name: userData.lastName,\r\n        email: userData.email,\r\n        password: userData.password,\r\n        confirm_password: userData.confirmPassword,\r\n        phone: userData.phone || '',\r\n        company: userData.company || '',\r\n        role: 'user'\r\n      })\r\n    });\r\n  }\r\n\r\n  async login(credentials) {\r\n    return this.request('/users/login', {\r\n      method: 'POST',\r\n      body: JSON.stringify(credentials)\r\n    });\r\n  }\r\n\r\n  async logout() {\r\n    return this.request('/users/logout', { method: 'POST' });\r\n  }\r\n\r\n  // User methods\r\n  async getCurrentUser() {\r\n    // Prefer consolidated dashboard endpoint for user profile\r\n    return this.request('/users/dashboard');\r\n  }\r\n\r\n  // Project methods\r\n  async getProjects() {\r\n    return this.request('/projects');\r\n  }\r\n\r\n  async createProject(projectData) {\r\n    return this.request('/projects', {\r\n      method: 'POST',\r\n      body: JSON.stringify(projectData)\r\n    });\r\n  }\r\n\r\n  async updateProject(id, projectData) {\r\n    return this.request(`/projects/${id}`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(projectData)\r\n    });\r\n  }\r\n\r\n  async deleteProject(id) {\r\n    return this.request(`/projects/${id}`, {\r\n      method: 'DELETE'\r\n    });\r\n  }\r\n\r\n  // Research methods\r\n  async getResearches() {\r\n    return this.request('/researches');\r\n  }\r\n\r\n  async createResearch(researchData) {\r\n    return this.request('/researches', {\r\n      method: 'POST',\r\n      body: JSON.stringify(researchData)\r\n    });\r\n  }\r\n\r\n  async updateResearch(id, researchData) {\r\n    return this.request(`/researches/${id}`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(researchData)\r\n    });\r\n  }\r\n\r\n  async deleteResearch(id) {\r\n    return this.request(`/researches/${id}`, {\r\n      method: 'DELETE'\r\n    });\r\n  }\r\n\r\n  // Job methods\r\n  async getJobs() {\r\n    return this.request('/jobs');\r\n  }\r\n\r\n  async createJob(jobData) {\r\n    return this.request('/jobs', {\r\n      method: 'POST',\r\n      body: JSON.stringify(jobData)\r\n    });\r\n  }\r\n\r\n  async updateJob(id, jobData) {\r\n    return this.request(`/jobs/${id}`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(jobData)\r\n    });\r\n  }\r\n\r\n  async deleteJob(id) {\r\n    return this.request(`/jobs/${id}`, {\r\n      method: 'DELETE'\r\n    });\r\n  }\r\n\r\n  // Dashboard methods\r\n  async getDashboardStats() {\r\n    // Prefer users dashboard summary\r\n    return this.request('/users/dashboard');\r\n  }\r\n\r\n  async getDashboardUser() {\r\n    return this.request('/users/dashboard');\r\n  }\r\n\r\n  async getUserIdeas() {\r\n    return this.request('/users/ideas');\r\n  }\r\n\r\n  async submitIdea(ideaData) {\r\n    return this.request('/users/ideas', {\r\n      method: 'POST',\r\n      body: JSON.stringify(ideaData)\r\n    });\r\n  }\r\n\r\n  // Users scoped ideas\r\n  async getMyIdeas() {\r\n    return this.request('/users/ideas/mine');\r\n  }\r\n\r\n  // Chat methods\r\n  async sendChatMessage(message, sessionId) {\r\n    return this.request('/chat', {\r\n      method: 'POST',\r\n      body: JSON.stringify({\r\n        question: message,\r\n        sessionId: sessionId || `session-${Date.now()}`\r\n      })\r\n    });\r\n  }\r\n\r\n  // Health check\r\n  async healthCheck() {\r\n    return this.request('/health');\r\n  }\r\n}\r\n\r\n// Create and export a singleton instance\r\nconst apiService = new ApiService();\r\nexport default apiService;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}