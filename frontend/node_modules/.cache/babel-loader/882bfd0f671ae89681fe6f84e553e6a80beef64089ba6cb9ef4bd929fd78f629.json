{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sahod\\\\OneDrive\\\\Desktop\\\\Trinix website\\\\trinix_web\\\\frontend\\\\src\\\\pages\\\\AdminIdeaView.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdminIdeaView = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [idea, setIdea] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const RAW_BASE = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n  const API_BASE_URL = (() => {\n    const trimmed = RAW_BASE.replace(/\\/$/, '');\n    return /\\/api(\\b|\\/) /.test(trimmed) ? trimmed : `${trimmed}/api`;\n  })();\n  const http = axios.create({\n    baseURL: API_BASE_URL,\n    headers: {\n      Accept: 'application/json'\n    }\n  });\n  const getAuthConfig = () => {\n    const token = localStorage.getItem('token');\n    return {\n      headers: {\n        'Content-Type': 'application/json',\n        ...(token ? {\n          Authorization: `Bearer ${token}`\n        } : {})\n      }\n    };\n  };\n  useEffect(() => {\n    let mounted = true;\n    async function load() {\n      setError('');\n      setLoading(true);\n      try {\n        const {\n          data\n        } = await http.get(`admin/ideas/${id}`, getAuthConfig());\n        if (!mounted) return;\n        setIdea(data.idea);\n      } catch (err) {\n        var _err$response, _err$response$data, _err$response2, _err$response3;\n        const msg = (err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || err.message || 'Failed to load idea';\n        setError(msg);\n        if ((err === null || err === void 0 ? void 0 : (_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.status) === 401) navigate('/login');\n        if ((err === null || err === void 0 ? void 0 : (_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : _err$response3.status) === 403) navigate('/dashboard');\n      } finally {\n        if (mounted) setLoading(false);\n      }\n    }\n    load();\n    return () => {\n      mounted = false;\n    };\n  }, [id]);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 24\n    },\n    children: \"Loading\\u2026\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 24,\n      color: '#b91c1c'\n    },\n    children: [\"Error: \", error]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 21\n  }, this);\n  if (!idea) return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 24\n    },\n    children: \"No idea found.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 21\n  }, this);\n  const user = idea.user_id || idea.user || {};\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 24\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => navigate('/admin'),\n      style: {\n        marginBottom: 16\n      },\n      children: \"\\u2190 Back to ideas\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        marginBottom: 8\n      },\n      children: idea.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: '#64748b',\n        marginBottom: 16\n      },\n      children: [\"By: \", user.first_name || user.name ? `${user.first_name || ''} ${user.last_name || ''}`.trim() : user.email || 'Unknown']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Type:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 39\n      }, this), \" \", idea.type]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Category:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 39\n      }, this), \" \", idea.category]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Status:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 39\n      }, this), \" \", idea.status]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Priority:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 39\n      }, this), \" \", idea.priority]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 16,\n        whiteSpace: 'pre-wrap'\n      },\n      children: idea.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminIdeaView, \"iwlDSjv5z66HSOXoKzj9aroPuYs=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = AdminIdeaView;\nexport default AdminIdeaView;\nvar _c;\n$RefreshReg$(_c, \"AdminIdeaView\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","axios","jsxDEV","_jsxDEV","AdminIdeaView","_s","id","navigate","idea","setIdea","loading","setLoading","error","setError","RAW_BASE","process","env","REACT_APP_API_URL","API_BASE_URL","trimmed","replace","test","http","create","baseURL","headers","Accept","getAuthConfig","token","localStorage","getItem","Authorization","mounted","load","data","get","err","_err$response","_err$response$data","_err$response2","_err$response3","msg","response","message","status","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","color","user","user_id","onClick","marginBottom","title","first_name","name","last_name","trim","email","type","category","priority","marginTop","whiteSpace","description","_c","$RefreshReg$"],"sources":["C:/Users/sahod/OneDrive/Desktop/Trinix website/trinix_web/frontend/src/pages/AdminIdeaView.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nconst AdminIdeaView = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const [idea, setIdea] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n\r\n  const RAW_BASE = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n  const API_BASE_URL = (() => {\r\n    const trimmed = RAW_BASE.replace(/\\/$/, '');\r\n    return /\\/api(\\b|\\/) /.test(trimmed) ? trimmed : `${trimmed}/api`;\r\n  })();\r\n  const http = axios.create({ baseURL: API_BASE_URL, headers: { Accept: 'application/json' } });\r\n  const getAuthConfig = () => {\r\n    const token = localStorage.getItem('token');\r\n    return { headers: { 'Content-Type': 'application/json', ...(token ? { Authorization: `Bearer ${token}` } : {}) } };\r\n  };\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function load() {\r\n      setError('');\r\n      setLoading(true);\r\n      try {\r\n        const { data } = await http.get(`admin/ideas/${id}`, getAuthConfig());\r\n        if (!mounted) return;\r\n        setIdea(data.idea);\r\n      } catch (err) {\r\n        const msg = err?.response?.data?.message || err.message || 'Failed to load idea';\r\n        setError(msg);\r\n        if (err?.response?.status === 401) navigate('/login');\r\n        if (err?.response?.status === 403) navigate('/dashboard');\r\n      } finally {\r\n        if (mounted) setLoading(false);\r\n      }\r\n    }\r\n    load();\r\n    return () => { mounted = false; };\r\n  }, [id]);\r\n\r\n  if (loading) return <div style={{padding: 24}}>Loading…</div>;\r\n  if (error) return <div style={{padding: 24, color: '#b91c1c'}}>Error: {error}</div>;\r\n  if (!idea) return <div style={{padding: 24}}>No idea found.</div>;\r\n\r\n  const user = idea.user_id || idea.user || {};\r\n\r\n  return (\r\n    <div style={{padding: 24}}>\r\n      <button onClick={() => navigate('/admin')} style={{marginBottom: 16}}>← Back to ideas</button>\r\n      <h1 style={{marginBottom: 8}}>{idea.title}</h1>\r\n      <div style={{color: '#64748b', marginBottom: 16}}>By: {(user.first_name || user.name) ? `${user.first_name || ''} ${user.last_name || ''}`.trim() : (user.email || 'Unknown')}</div>\r\n      <div style={{marginBottom: 12}}><strong>Type:</strong> {idea.type}</div>\r\n      <div style={{marginBottom: 12}}><strong>Category:</strong> {idea.category}</div>\r\n      <div style={{marginBottom: 12}}><strong>Status:</strong> {idea.status}</div>\r\n      <div style={{marginBottom: 12}}><strong>Priority:</strong> {idea.priority}</div>\r\n      <hr />\r\n      <div style={{marginTop: 16, whiteSpace: 'pre-wrap'}}>{idea.description}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminIdeaView;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}